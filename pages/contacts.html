<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Контакты - Мое портфолио</title>
    <link rel="stylesheet" href="../styles/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body class="page">
    <!-- Ссылка-пропуск для доступности -->
    <a href="#main-content" class="skip-link visually-hidden"
      >Перейти к основному содержанию</a
    >

    <header class="nav">
      <div class="container header-container">
        <div class="header-content">
          <div class="logo">Portfolio</div>
          <h1>София</h1>
        </div>
      </div>
      <nav class="nav-links">
        <a href="../index.html">Главная</a>
        <a href="projects.html">Проекты</a>
        <a href="diary.html">Дневник</a>
        <a href="contacts.html" class="active">Контакты</a>
      </nav>
    </header>

    <main id="main-content" class="main">
      <section class="section">
        <div class="container">
          <h2 class="section-title">СВЯЖИТЕСЬ СО МНОЙ</h2>

          <div class="contact-content">
            <div class="contact-form">
              <form class="form" id="contact-form" novalidate>
                <div class="form-group">
                  <label for="name">Имя:</label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    required
                    aria-describedby="name-error"
                    autocomplete="name"
                  />
                  <span
                    id="name-error"
                    class="error-message visually-hidden"
                    aria-live="polite"
                  ></span>
                </div>
                <div class="form-group">
                  <label for="email">Email:</label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    required
                    aria-describedby="email-error"
                    autocomplete="email"
                  />
                  <span
                    id="email-error"
                    class="error-message visually-hidden"
                    aria-live="polite"
                  ></span>
                </div>
                <div class="form-group">
                  <label for="message">Сообщение:</label>
                  <textarea
                    id="message"
                    name="message"
                    rows="5"
                    required
                    aria-describedby="message-error"
                  ></textarea>
                  <span
                    id="message-error"
                    class="error-message visually-hidden"
                    aria-live="polite"
                  ></span>
                </div>
                <button type="submit" class="btn">
                  <i class="fas fa-paper-plane"></i>Отправить сообщение
                </button>
              </form>
            </div>

            <div class="contact-info">
              <h3>Контакты:</h3>
              <div class="contact-item">
                <i class="fas fa-envelope" aria-hidden="true"></i>
                <span>sofiya.golovushkina@bk.ru</span>
              </div>
              <div class="contact-item">
                <i class="fab fa-github" aria-hidden="true"></i>
                <a href="https://github.com/Sofiia-cloud">Sofiia-cloud</a>
              </div>
              <div class="contact-item">
                <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                <span>Москва, Россия</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section contact-section">
        <div class="container">
          <h2 class="section-title">КОНТАКТЫ</h2>
          <div class="social-links">
            <a
              href="https://t.me/sofico6"
              class="social-link"
              aria-label="Telegram"
            >
              <i class="fab fa-telegram" aria-hidden="true"></i>
            </a>
            <a
              href="https://github.com/Sofiia-cloud"
              class="social-link"
              aria-label="GitHub"
            >
              <i class="fab fa-github" aria-hidden="true"></i>
            </a>
            <a
              href="mailto:sofiya.golovushkina@bk.ru"
              class="social-link"
              aria-label="Email"
            >
              <i class="fas fa-envelope" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <p>&copy; 2024. Все права защищены.</p>
      </div>
    </footer>

    <script>
      // Валидация формы
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contact-form");
        const nameInput = document.getElementById("name");
        const emailInput = document.getElementById("email");
        const messageInput = document.getElementById("message");

        const nameError = document.getElementById("name-error");
        const emailError = document.getElementById("email-error");
        const messageError = document.getElementById("message-error");

        function showError(input, errorElement, message) {
          errorElement.textContent = message;
          errorElement.classList.remove("visually-hidden");
          input.setAttribute("aria-invalid", "true");
          input.classList.add("error");
        }

        function hideError(input, errorElement) {
          errorElement.textContent = "";
          errorElement.classList.add("visually-hidden");
          input.setAttribute("aria-invalid", "false");
          input.classList.remove("error");
        }

        function validateName() {
          const value = nameInput.value.trim();
          if (!value) {
            showError(nameInput, nameError, "Пожалуйста, введите ваше имя");
            return false;
          }
          if (value.length < 2) {
            showError(
              nameInput,
              nameError,
              "Имя должно содержать минимум 2 символа"
            );
            return false;
          }
          hideError(nameInput, nameError);
          return true;
        }

        function validateEmail() {
          const value = emailInput.value.trim();
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

          if (!value) {
            showError(emailInput, emailError, "Пожалуйста, введите email");
            return false;
          }
          if (!emailRegex.test(value)) {
            showError(
              emailInput,
              emailError,
              "Пожалуйста, введите корректный email"
            );
            return false;
          }
          hideError(emailInput, emailError);
          return true;
        }

        function validateMessage() {
          const value = messageInput.value.trim();
          if (!value) {
            showError(
              messageInput,
              messageError,
              "Пожалуйста, введите сообщение"
            );
            return false;
          }
          if (value.length < 10) {
            showError(
              messageInput,
              messageError,
              "Сообщение должно содержать минимум 10 символов"
            );
            return false;
          }
          hideError(messageInput, messageError);
          return true;
        }

        // Валидация при вводе
        nameInput.addEventListener("blur", validateName);
        emailInput.addEventListener("blur", validateEmail);
        messageInput.addEventListener("blur", validateMessage);

        // Валидация при отправке
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          const isNameValid = validateName();
          const isEmailValid = validateEmail();
          const isMessageValid = validateMessage();

          if (isNameValid && isEmailValid && isMessageValid) {
            // Имитация отправки
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;

            submitBtn.innerHTML =
              '<i class="fas fa-spinner fa-spin"></i>Отправка...';
            submitBtn.disabled = true;

            setTimeout(() => {
              submitBtn.innerHTML = '<i class="fas fa-check"></i>Отправлено!';
              setTimeout(() => {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                form.reset();

                // Показать уведомление об успехе
                showNotification("Сообщение успешно отправлено!");
              }, 2000);
            }, 1500);
          } else {
            // Сфокусироваться на первом поле с ошибкой
            const firstError = form.querySelector(".error");
            if (firstError) {
              firstError.focus();
            }
          }
        });

        function showNotification(message) {
          const notification = document.createElement("div");
          notification.className = "notification";
          notification.textContent = message;
          notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 10000;
            animation: slideIn 0.3s ease;
            max-width: 300px;
          `;

          document.body.appendChild(notification);

          setTimeout(() => {
            notification.style.animation = "slideOut 0.3s ease";
            setTimeout(() => {
              notification.remove();
            }, 300);
          }, 3000);
        }

        // Добавляем стили для уведомлений и ошибок
        const style = document.createElement("style");
        style.textContent = `
          .error {
            border-color: #e74c3c !important;
            background-color: #fdf2f2;
          }
          
          .error-message {
            color: #e74c3c;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: block;
          }
          
          .error-message.visually-hidden {
            display: none;
          }
          
          @keyframes slideIn {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          
          @keyframes slideOut {
            from {
              transform: translateX(0);
              opacity: 1;
            }
            to {
              transform: translateX(100%);
              opacity: 0;
            }
          }
          
          .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
          }
          
          .fa-spinner {
            animation: spin 1s linear infinite;
          }
          
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `;
        document.head.appendChild(style);
      });
    </script>
  </body>
</html>
