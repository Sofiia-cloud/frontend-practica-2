<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Контакты - Мое портфолио</title>
    <link rel="stylesheet" href="../styles/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body class="page">
    <!-- Ссылка-пропуск для доступности -->
    <a href="#main" class="skip-link">Перейти к основному содержимому</a>

    <!-- Sticky-хедер -->
    <header class="nav">
      <div class="container header-container">
        <div class="header-content">
          <div class="logo">Portfolio</div>
          <h1>София</h1>
        </div>
      </div>
      <nav class="nav-links" aria-label="Основная навигация">
        <a href="../index.html" class="nav-link">Главная</a>
        <a href="projects.html" class="nav-link">Проекты</a>
        <a href="diary.html" class="nav-link">Дневник</a>
        <a href="contacts.html" class="nav-link" aria-current="page"
          >Контакты</a
        >
      </nav>
    </header>

    <main id="main" class="main">
      <section class="section">
        <div class="container">
          <h1 class="section-title">СВЯЗАТЬСЯ СО МНОЙ</h1>

          <div class="contact-content">
            <!-- Форма обратной связи -->
            <div class="contact-form">
              <h2 class="visually-hidden">Форма обратной связи</h2>
              <form id="contactForm" novalidate>
                <fieldset>
                  <legend class="visually-hidden">Контактная информация</legend>

                  <div class="form-group">
                    <label for="name"
                      >Имя <span aria-hidden="true">*</span></label
                    >
                    <input
                      type="text"
                      id="name"
                      name="name"
                      required
                      aria-required="true"
                      aria-describedby="name-error"
                      placeholder="Введите ваше имя"
                    />
                    <span
                      id="name-error"
                      class="error-message visually-hidden"
                      aria-live="polite"
                    ></span>
                  </div>

                  <div class="form-group">
                    <label for="email"
                      >Email <span aria-hidden="true">*</span></label
                    >
                    <input
                      type="email"
                      id="email"
                      name="email"
                      required
                      aria-required="true"
                      aria-describedby="email-error"
                      placeholder="Введите ваш email"
                    />
                    <span
                      id="email-error"
                      class="error-message visually-hidden"
                      aria-live="polite"
                    ></span>
                  </div>

                  <div class="form-group">
                    <label for="subject">Тема сообщения</label>
                    <input
                      type="text"
                      id="subject"
                      name="subject"
                      aria-describedby="subject-help"
                      placeholder="Тема вашего сообщения"
                    />
                    <span id="subject-help" class="visually-hidden"
                      >Необязательное поле</span
                    >
                  </div>

                  <div class="form-group">
                    <label for="message"
                      >Сообщение <span aria-hidden="true">*</span></label
                    >
                    <textarea
                      id="message"
                      name="message"
                      rows="5"
                      required
                      aria-required="true"
                      aria-describedby="message-error message-help"
                      placeholder="Введите ваше сообщение"
                    ></textarea>
                    <span
                      id="message-error"
                      class="error-message visually-hidden"
                      aria-live="polite"
                    ></span>
                    <span id="message-help" class="visually-hidden"
                      >Минимальная длина сообщения - 10 символов</span
                    >
                  </div>

                  <button
                    type="submit"
                    class="btn"
                    aria-label="Отправить сообщение"
                  >
                    <i class="fas fa-paper-plane" aria-hidden="true"></i>
                    Отправить сообщение
                  </button>
                </fieldset>
              </form>
            </div>

            <!-- Контактная информация -->
            <div class="contact-info">
              <h2>Контактная информация</h2>

              <div class="contact-item">
                <i class="fas fa-envelope" aria-hidden="true"></i>
                <div>
                  <strong>Email</strong>
                  <p>sofiya.golovushkina@bk.ru</p>
                </div>
              </div>

              <div class="contact-item">
                <i class="fab fa-telegram" aria-hidden="true"></i>
                <div>
                  <strong>Telegram</strong>
                  <p>@sofico6</p>
                </div>
              </div>

              <div class="contact-item">
                <i class="fab fa-github" aria-hidden="true"></i>
                <div>
                  <strong>GitHub</strong>
                  <p>Sofiia-cloud</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Футер -->
    <footer class="footer">
      <div class="container">
        <p>&copy; 2025. Все права защищены.</p>
      </div>
    </footer>

    <script>
      // JavaScript для доступности формы
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contactForm");
        const nameInput = document.getElementById("name");
        const emailInput = document.getElementById("email");
        const messageInput = document.getElementById("message");

        // Функция для показа ошибок
        function showError(input, message) {
          const errorElement = document.getElementById(input.id + "-error");
          errorElement.textContent = message;
          errorElement.classList.remove("visually-hidden");
          input.setAttribute("aria-invalid", "true");
          input.classList.add("error");
        }

        // Функция для скрытия ошибок
        function hideError(input) {
          const errorElement = document.getElementById(input.id + "-error");
          errorElement.textContent = "";
          errorElement.classList.add("visually-hidden");
          input.setAttribute("aria-invalid", "false");
          input.classList.remove("error");
        }

        // Валидация в реальном времени
        nameInput.addEventListener("blur", function () {
          if (!this.value.trim()) {
            showError(this, "Пожалуйста, введите ваше имя");
          } else {
            hideError(this);
          }
        });

        emailInput.addEventListener("blur", function () {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!this.value.trim()) {
            showError(this, "Пожалуйста, введите ваш email");
          } else if (!emailRegex.test(this.value)) {
            showError(this, "Пожалуйста, введите корректный email");
          } else {
            hideError(this);
          }
        });

        messageInput.addEventListener("blur", function () {
          if (!this.value.trim()) {
            showError(this, "Пожалуйста, введите ваше сообщение");
          } else if (this.value.trim().length < 10) {
            showError(this, "Сообщение должно содержать минимум 10 символов");
          } else {
            hideError(this);
          }
        });

        // Обработка отправки формы
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          let isValid = true;

          // Проверка всех полей
          if (!nameInput.value.trim()) {
            showError(nameInput, "Пожалуйста, введите ваше имя");
            isValid = false;
          }

          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailInput.value.trim()) {
            showError(emailInput, "Пожалуйста, введите ваш email");
            isValid = false;
          } else if (!emailRegex.test(emailInput.value)) {
            showError(emailInput, "Пожалуйста, введите корректный email");
            isValid = false;
          }

          if (!messageInput.value.trim()) {
            showError(messageInput, "Пожалуйста, введите ваше сообщение");
            isValid = false;
          } else if (messageInput.value.trim().length < 10) {
            showError(
              messageInput,
              "Сообщение должно содержать минимум 10 символов"
            );
            isValid = false;
          }

          if (isValid) {
            // Здесь можно добавить отправку формы
            alert("Сообщение успешно отправлено!");
            form.reset();
          } else {
            // Фокус на первое поле с ошибкой
            const firstError = form.querySelector(".error");
            if (firstError) {
              firstError.focus();
            }
          }
        });

        // Улучшение навигации с клавиатуры
        const focusableElements = form.querySelectorAll(
          "input, textarea, button"
        );
        focusableElements.forEach((element, index) => {
          element.addEventListener("keydown", function (e) {
            if (e.key === "Enter" && e.target.tagName !== "TEXTAREA") {
              e.preventDefault();
              if (e.target.type === "submit") {
                e.target.click();
              } else {
                const nextIndex = (index + 1) % focusableElements.length;
                focusableElements[nextIndex].focus();
              }
            }
          });
        });
      });
    </script>
  </body>
</html>
